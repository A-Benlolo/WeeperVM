ENTRY(_start)

PHDRS {
  text   PT_LOAD FLAGS(5); /* R + X */
  data   PT_LOAD FLAGS(6); /* R + W */
  rodata PT_LOAD FLAGS(4); /* R     */
}

SECTIONS {
  . = 0x1000a;

  /* Start of text/code */
  .text : {
    *(.text*)
  } :text

  /* Align for the next segment (data) */
  . = ALIGN(0x1000);

  .rodata : ALIGN(0x1000) {
    *(.rodata*)
  } :rodata

  /* Align for the next segment (data) */
  . = ALIGN(0x1000);

  .data : ALIGN(0x1000) {
    *(.data*)
  } :data

  /DISCARD/ : {
    *(.note*)
    *(.comment*)
    *(.debug_*)
    *(.eh_frame*)
    *(.ctors*)
    *(.dtors*)
  }
}
